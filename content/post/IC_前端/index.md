---
title: ICå‰ç«¯è®¾è®¡ç»ƒä¹ 
description: å‰ç«¯æ‰€æœ‰çŸ¥è¯†
date: 2025-07-29
image: cover.png
categories:
    - IC
tags:

weight: 3
---

## Verilogç»ƒä¹ ç½‘å€

[verilogåœ¨çº¿ç»ƒä¹ ](https://edu.eeeknow.com/exam/lab?uname=1138b6c7f20ffa138c04c6b81515e990&clname=wx)

[ä¸­æ–‡HDLBits](https://digitalasic.design/%e7%bf%bb%e8%af%91%e6%96%87%e6%a1%a3/hdlbits-chinese/)

[HDLBitså®Œæ•´ç‰ˆåˆ·é¢˜](https://blog.csdn.net/wszwszwszqwer/article/details/123764784)

[ä¼˜ç§€çš„å¼€æºé¡¹ç›®](https://www.zhihu.com/question/348990787)

## verilogè¯­æ³•
###  `default_nettype none     
// Disable implicit nets. Reduces some types of bugs.
è¿™æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨æŒ‡ä»¤ï¼ˆä»¥åå¼•å· ` å¼€å¤´ï¼‰ï¼Œä¸æ˜¯ Verilog è¯­è¨€çš„ä¸€éƒ¨åˆ†ã€‚

è®¾ç½®å½“å‰æºæ–‡ä»¶ä¸­ï¼Œæœªæ˜¾å¼å£°æ˜çš„ä¿¡å·ï¼Œä¸å…è®¸è¢«è‡ªåŠ¨æ¨æ–­ä¸º wireã€‚

éšå¼ nets é€šå¸¸æ˜¯éš¾ä»¥æ£€æµ‹çš„é”™è¯¯æºã€‚åœ¨ Verilog ä¸­ï¼Œé€šè¿‡èµ‹å€¼è¯­å¥æˆ–å°†æœªå£°æ˜çš„å†…å®¹è¿æ¥åˆ°æ¨¡å—ç«¯å£ï¼Œå¯ä»¥éšå¼åˆ›å»ºç½‘ç»œç±»å‹ä¿¡å·ã€‚éšå¼ nets å§‹ç»ˆæ˜¯å•ä¸€ä½å®½çš„å¯¼çº¿ï¼Œå¹¶ä¸”å¦‚æœä½ æ‰“ç®—ä½¿ç”¨å‘é‡ï¼Œå®ƒä¼šå¯¼è‡´é”™è¯¯ã€‚å¯ä»¥ä½¿ç”¨ default_nettype none æŒ‡ä»¤ç¦ç”¨éšå¼ nets çš„åˆ›å»ºã€‚

```verilog
wire [2:0] a, c;     // ä¸¤ä¸ªå‘é‡
assign a = 3'b101;   // a = 101
assign b = a;        // b = 1   éšå¼åˆ›å»ºçš„å¯¼çº¿
assign c = b;        // c = 001  <-- é”™è¯¯
my_module i1 (d,e);  // å¦‚æœæ²¡æœ‰å£°æ˜ï¼Œd å’Œ e éšå¼åœ°æ˜¯å•ä¸€ä½å®½ã€‚
```
// å¦‚æœç«¯å£æœ¬åº”æ˜¯å‘é‡ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚

æ·»åŠ  default_nettype none å°†ä½¿ä»£ç çš„ç¬¬äºŒè¡Œæˆä¸ºä¸€ä¸ªé”™è¯¯ï¼Œè¿™ä½¿å¾—é”™è¯¯æ›´å®¹æ˜“è¢«å‘ç°ã€‚

### ç»„åˆé€»è¾‘
ç”¨äºç¡¬ä»¶ç»¼åˆçš„alwayså—æœ‰ä¸¤ç§ï¼š


 â€¢ ç»„åˆé€»è¾‘ï¼šalways @(*)

 â€¢ æ—¶é’Ÿè§¦å‘ï¼šalways @(posedge clk)

å¯¹äºç»„åˆé€»è¾‘çš„alwayså—ï¼Œåº”å§‹ç»ˆä½¿ç”¨(`*`) æ•æ„Ÿåˆ—è¡¨ï¼Œæ˜¾å¼åˆ—å‡ºä¿¡å·å®¹æ˜“å‡ºé”™ï¼Œä¸”åœ¨ç¡¬ä»¶ç»¼åˆæ—¶ä¼šè¢«å¿½ç•¥ã€‚å¦‚æœé”™è¿‡æŸä¸ªä¿¡å·ï¼Œç»¼åˆåçš„ç¡¬ä»¶è¡Œä¸ºä»ä¼šåƒæŒ‡å®šäº†(*)ä¸€æ ·ï¼Œä½†ä»¿çœŸæ—¶ä¼šä¸åŒæ­¥ã€‚åœ¨assignè¯­å¥ä¸­ï¼Œå·¦ä¾§å¿…é¡»æ˜¯ç½‘ç»œç±»å‹ï¼ˆå¦‚wireï¼‰ï¼Œè€Œåœ¨alwayså—çš„è¿‡ç¨‹èµ‹å€¼ä¸­ï¼Œå·¦ä¾§å¿…é¡»æ˜¯å˜é‡ç±»å‹ï¼ˆå¦‚regï¼‰ã€‚è¿™äº›ç±»å‹ä¸ç¡¬ä»¶ç»¼åˆæ— å…³ï¼Œä»…æ˜¯Verilogä½œä¸ºç¡¬ä»¶ä»¿çœŸè¯­è¨€çš„è¯­æ³•é—ç•™ã€‚

> ä¸€ä¸ªâ€œäººå£è®¡æ•°â€ç”µè·¯ç”¨äºè®¡ç®—è¾“å…¥å‘é‡ä¸­'1'çš„æ•°é‡ã€‚æ„å»ºä¸€ä¸ªç”¨äº3ä½è¾“å…¥å‘é‡çš„äººå£è®¡æ•°ç”µè·¯ã€‚
```verilog
module top_module( 
    input [2:0] in,
    output reg [1:0] out );

    // assign out = in[0] + in[1] + in[2];
    // ä¸€ç›´åœ¨æŠ¥!!!!!


    always@(*) out = in[0] + in[1] + in[2];

    
endmodule
```



![alt text](image-1.png)

![alt text](image-2.png)
å¦‚æœç±»å‹ä¸å¯¹ï¼Œä¼šå‡ºç°è¯­æ³•é”™è¯¯ã€‚


### æ¡ä»¶è¿ç®—ç¬¦ï¼ˆä¸‰å…ƒè¿ç®—ç¬¦ï¼‰
ç”¨æ¥å®ç° ç»„åˆé€»è¾‘ä¸­åŸºäºé€‰æ‹©ä¿¡å·çš„å¤šè·¯é€‰æ‹©å™¨ï¼ˆMUXï¼‰åŠŸèƒ½

> condition ? true_value : false_value;


https://edu.eeeknow.com/video-series?goods_sn=TW100943&series_goods_sn=XL101041&is_single=1&id=6019

### é˜»å¡èµ‹å€¼å’Œéé˜»å¡èµ‹å€¼
æ³¨æ„æ—¶åºç”µè·¯è®¾è®¡ä¸­çš„èµ‹å€¼è¯­å¥è¦ä½¿ç”¨éé˜»å¡èµ‹å€¼â€œ<=â€

[é˜»å¡èµ‹å€¼å’Œéé˜»å¡èµ‹å€¼](https://blog.csdn.net/qq_44933149/article/details/121926211)

### å¼‚æ­¥å¤ä½
åœ¨ä»»æ„æ—¶åˆ»ï¼ˆä¸ä¾èµ–æ—¶é’Ÿè¾¹æ²¿ï¼‰ï¼Œåªè¦å¤ä½ä¿¡å·æœ‰æ•ˆï¼ˆé€šå¸¸æ˜¯ä½ç”µå¹³æˆ–é«˜ç”µå¹³ï¼‰ï¼Œå¯„å­˜å™¨ç«‹å³è¢«æ¸…é›¶ï¼ˆæˆ–è®¾ç½®ä¸ºåˆå§‹å€¼ï¼‰ã€‚

| å¯¹æ¯”é¡¹  | å¼‚æ­¥å¤ä½                      | åŒæ­¥å¤ä½                       |
| ---- | ------------------------- | -------------------------- |
| è§¦å‘æ—¶æœº | **ç«‹å³ç”Ÿæ•ˆ**ï¼Œä¸æ—¶é’Ÿæ— å…³            | **åœ¨æ—¶é’Ÿä¸Šå‡æ²¿/ä¸‹é™æ²¿ç”Ÿæ•ˆ**           |
| å†™æ³•ä½ç½® | `if (!rst)` åœ¨ `always` å¼€å¤´ | `if (!rst)` æ”¾åœ¨ `clk` ç›¸å…³é€»è¾‘å†… |
| å“åº”é€Ÿåº¦ | å¿«é€Ÿå“åº”ï¼Œé€‚åˆç´§æ€¥æ¸…é›¶               | ä¸æ—¶é’ŸåŒæ­¥ï¼Œå“åº”ç¨æ…¢                 |
| é€šå¸¸ç”¨é€” | ç³»ç»Ÿå¯åŠ¨ã€ç”µæºä¸ç¨³æ¢å¤               | æœ‰ä¸¥æ ¼æ—¶åºæ§åˆ¶çš„ç³»ç»Ÿ                 |

### åœ°å€æ•°xå­—é•¿
æˆ‘ä»¬å¸¸è¯´çš„8x1 å­˜å‚¨å™¨

â€œ8â€ è¡¨ç¤ºåœ°å€æ•°ï¼ˆä¹Ÿå°±æ˜¯å­˜å‚¨å•å…ƒä¸ªæ•°ï¼‰ï¼Œ
â€œ1â€ è¡¨ç¤ºæ¯ä¸ªå­˜å‚¨å•å…ƒå¯ä»¥å­˜å‚¨1ä½ï¼ˆbitï¼‰çš„æ•°æ®ã€‚

## é€»è¾‘
### ç§»ä½å¯„å­˜å™¨
questionï¼š
æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªæ¨¡å—my_dff8ï¼Œè¯¥æ¨¡å—å…·æœ‰ä¸¤ä¸ªè¾“å…¥å’Œä¸€ä¸ªè¾“å‡ºï¼ˆå®ç°ä¸€ä¸ª8ä½çš„Dè§¦å‘å™¨ï¼‰ã€‚å®ä¾‹åŒ–å®ƒä»¬ä¸­çš„ä¸‰ä¸ªï¼Œç„¶åå°†å®ƒä»¬é“¾æ¥åœ¨ä¸€èµ·ä»¥æ„æˆä¸€ä¸ªé•¿åº¦ä¸º3çš„8ä½å®½ç§»ä½å¯„å­˜å™¨ã€‚
æ­¤å¤–ï¼Œåˆ›å»ºä¸€ä¸ª4æ¯”1å¤šè·¯å¤ç”¨å™¨ï¼Œè¯¥å¤šè·¯å¤ç”¨å™¨æ ¹æ®sel [1ï¼š0]é€‰æ‹©è¾“å‡ºçš„å†…å®¹ï¼šè¾“å…¥dçš„å€¼ï¼Œåœ¨ç¬¬ä¸€ä¸ªï¼Œç¬¬äºŒä¸ªä¹‹åæˆ–åœ¨ç¬¬ä¸‰ä¸ªDè§¦å‘å™¨ä¹‹åã€‚ ï¼ˆ**æœ¬è´¨ä¸Šï¼Œselé€‰æ‹©ä»0åˆ°3ä¸ªæ—¶é’Ÿå‘¨æœŸå»¶è¿Ÿè¾“å…¥çš„å‘¨æœŸã€‚**ï¼‰
æä¾›æ¨¡å—æ˜¯ï¼š
module my_dff8 ( input clk, input [7:0] d, output [7:0] q );
æ²¡æœ‰æä¾›å¤šè·¯å¤ç”¨å™¨ã€‚ä¸€ç§å¯èƒ½çš„å†™æ–¹æ³•æ˜¯åœ¨alwayså—ä¸­åŒ…å«caseè¯­å¥ã€‚

![ç§»ä½å¯„å­˜å™¨](./image.png)

### çœŸå€¼è¡¨
SOPæ–¹æ³•ï¼šè¾“å…¥ä½¿ç”¨â€œä¹˜ç§¯â€çš„å½¢å¼ï¼Œå°†æ¯ä¸ªä¸ºçœŸçš„è¾“å‡ºå½“ä½œä¸é—¨çš„è¾“å…¥

å¡è¯ºå›¾ï¼šå¾—å‡ºç”µè·¯è¡¨è¾¾å¼
### æœ‰ç¬¦å·æº¢å‡º
è¿™é‡Œä»æº¢å‡ºå‘ç”Ÿçš„æƒ…å½¢å‡ºå‘è§£é¢˜ï¼Œæœ‰ç¬¦å·æ•°æº¢å‡ºæœ‰ä¸¤ç§æƒ…å†µï¼šä¸€æ˜¯æ­£æ­£ç›¸åŠ ï¼Œäº§ç”Ÿæ­£æº¢å‡º;å¦ä¸€ç§æƒ…å†µæ˜¯è´Ÿè´Ÿç›¸å‡ï¼Œäº§ç”Ÿè´Ÿæº¢å‡ºã€‚æ‰€ä»¥å°±åˆ†åˆ«è€ƒè™‘äº†è¿™ä¸¤ç§æƒ…å†µï¼Œå°†è¿™ä¸¤ç§æƒ…å†µå–æˆ–åˆ¤æ–­æº¢å‡ºã€‚

a[7] && b[7] && ~s[7]ï¼š

è´Ÿæ•°ç›¸å‡ï¼ˆè¡¥ç ç›¸åŠ ï¼‰äº§ç”Ÿæ­£æ•°ï¼Œåˆ¤æ–­æº¢å‡ºã€‚

~a[7] && ~b[7] && s[7]ï¼š

æ­£æ•°ç›¸åŠ äº§ç”Ÿä¸€ä¸ªè´Ÿæ•°ï¼Œåˆ¤æ–­æº¢å‡ºã€‚

| æƒ…å†µ        | a\[7] | b\[7] | s\[7] | æ˜¯å¦æº¢å‡º  |
| --------- | ----- | ----- | ----- | ----- |
| æ­£ + æ­£ = è´Ÿ | 0     | 0     | 1     | âœ… æº¢å‡º  |
| è´Ÿ + è´Ÿ = æ­£ | 1     | 1     | 0     | âœ… æº¢å‡º  |
| å…¶ä½™æƒ…å†µ      | 0/1   | 1/0   | æ— è®ºä»€ä¹ˆ  | âŒ ä¸æº¢å‡º |

```text
ä¸¾ä¸ªä¾‹å­ï¼š
a =  1000_0000 = -128
b =  1000_0000 = -128
s = a + b = -128 + (-128) = -256

ä½† 8 ä½è¡¥ç æœ€å¤§è¡¨ç¤ºèŒƒå›´æ˜¯ [-128, 127]
-256 è¶…å‡ºèŒƒå›´ï¼Œç»“æœä¼šå˜æˆï¼š

s = 0000_0000 ï¼ˆå®é™…ä¸º 0ï¼‰ â†’ s[7] = 0 â‡’ æº¢å‡º
```
---------------------------------------------

```text
a =  0111_1111 = 127
b =  0000_0001 =   1
s = a + b = 127 + 1 = 128

ä½† 8 ä½è¡¥ç æœ€å¤§è¡¨ç¤ºèŒƒå›´æ˜¯ [-128, 127]
128 è¶…å‡ºèŒƒå›´ï¼Œç»“æœä¼šå˜æˆï¼š

s = 1000_0000 ï¼ˆå®é™…ä¸º -128ï¼‰ â†’ s[7] = 1 â‡’ æº¢å‡º
```


### è¾¹æ²¿æ£€æŸ¥ï¼ˆæ—¶åºé€»è¾‘æ£€æŸ¥ï¼‰
ä½çº§å¹¶è¡Œä¸Šå‡æ²¿æ£€æµ‹ï¼ˆrising edge detectionï¼‰é—®é¢˜ï¼Œç›®æ ‡æ˜¯æ£€æµ‹ä¸€ä¸ª 8 ä½ä¿¡å·å‘é‡ä¸­æ¯ä¸€ä½ä½•æ—¶å‘ç”Ÿ ä» 0 åˆ° 1 çš„å˜åŒ–ï¼Œå³ä¸Šå‡æ²¿ï¼Œå¹¶åœ¨ä¸‹ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå°†ç›¸åº”è¾“å‡ºä½è®¾ä¸º 1ï¼ˆå…¶ä»–ä½ä¸º 0ï¼‰

**å…³é”®ï¼šç¡®å®šä¸Šä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸçš„ä¿¡å·ï¼Œä½¿ç”¨ ä¸é—¨è¿‡æ»¤**

[ç»ƒä¹ é¢˜](https://edu.eeeknow.com/video-series?goods_sn=TW100943&series_goods_sn=XL101041&is_single=1&id=6019)


ğŸ§  åŸºæœ¬åŸç†ï¼š

å¯¹äºä¸€ä¸ªä¿¡å· in[7:0]ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¯ä¸€ä½ in[i] åšå¦‚ä¸‹é€»è¾‘ï¼š

```verilog
out[i] = ~in_dly[i] & in[i];
```
å…¶ä¸­ï¼š
in_dly[i] æ˜¯ in[i] çš„ä¸Šä¸€ä¸ªå‘¨æœŸå€¼ï¼ˆé€šè¿‡å¯„å­˜å™¨å­˜ä¸‹æ¥çš„ï¼‰ã€‚
out[i] æ˜¯å½“å‰å‘¨æœŸè¾“å‡ºçš„ä¸Šå‡æ²¿ä¿¡å·ã€‚

è¿™æ¡è¡¨è¾¾å¼çš„æ„æ€æ˜¯ï¼š
å¦‚æœ ä¸Šä¸€ä¸ªå‘¨æœŸæ˜¯0 ä¸” å½“å‰å‘¨æœŸæ˜¯1ï¼Œè¯´æ˜å‘ç”Ÿäº†ä¸Šå‡æ²¿ã€‚

ä¾‹å­ï¼š

å‡è®¾è¾“å…¥ä¿¡å· in[7:0] åœ¨ 4 ä¸ªæ—¶é’Ÿå‘¨æœŸå†…çš„å€¼å¦‚ä¸‹
| Cycle | `in[7:0]`   |
| ----- | ----------- |
| 0     | 8'b00000000 |
| 1     | 8'b00010010 |
| 2     | 8'b00010011 |
| 3     | 8'b00010001 |


æˆ‘ä»¬æœŸæœ›è¾“å‡º out[7:0] ä¸ºï¼š
| Cycle | `out[7:0]`  | **è§£é‡Š**              |
| ----- | ----------- | ------------------- |
| 0     | 8'b00000000 | åˆå§‹å‘¨æœŸï¼Œæ²¡æœ‰æ¯”è¾ƒåŸºç¡€         |
| 1     | 8'b00010010 | ç¬¬1ä½å’Œç¬¬4ä½ä» 0â†’1ï¼Œä¸Šå‡æ²¿æ£€æµ‹åˆ° |
| 2     | 8'b00000001 | ç¬¬0ä½ä» 0â†’1 å‡ºç°ä¸Šå‡æ²¿      |
| 3     | 8'b00000000 | æ²¡æœ‰æ–°çš„ä¸Šå‡æ²¿ï¼Œout å…¨ä¸º0     |


