(()=>{document.addEventListener("DOMContentLoaded",()=>{let n=document.querySelector(".widget--toc #TableOfContents");if(!n)return;if(n.querySelectorAll("li").forEach(t=>{if(t.querySelector("ul, ol")){t.classList.add("has-children");let e=document.createElement("span");e.className="toc-expander",e.innerText="\u25B6";let o=t.querySelector("a");o?t.insertBefore(e,o):t.prepend(e),e.addEventListener("click",a=>{a.stopPropagation(),a.preventDefault();let r=t.classList.toggle("expanded");e.style.transform=r?"rotate(90deg)":"rotate(0deg)"})}}),window.location.hash){let t=decodeURIComponent(window.location.hash),s=n.querySelector(`a[href="${window.location.hash}"]`)||n.querySelector(`a[href="${t}"]`);if(s){let e=s.parentElement;for(;e&&e!==n;){if(e.tagName==="LI"&&e.classList.contains("has-children")){e.classList.add("expanded");let o=e.querySelector(".toc-expander");o&&(o.style.transform="rotate(90deg)")}e=e.parentElement}}}});})();
